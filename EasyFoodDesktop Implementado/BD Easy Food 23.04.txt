CREATE DATABASE EASYFOOD;

USE EASYFOOD;


CREATE TABLE USUARIOS
(
	CODUSER INT PRIMARY KEY AUTO_INCREMENT,
	LOGINUSER VARCHAR(50) UNIQUE NOT NULL,
	SENHAUSER VARCHAR(50) NOT NULL,
	NOMEUSER VARCHAR(60) NOT NULL,
	TELUSER VARCHAR(11),
	TIPOUSER VARCHAR(60) NOT NULL,
	FOTOUSER VARCHAR(255)
)ENGINE = innodb;

CREATE TABLE TIPOPRODUTOS
(
	CODTIPOPROD INT PRIMARY KEY AUTO_INCREMENT,
	NOMETIPOPROD VARCHAR(50) UNIQUE NOT NULL
)ENGINE = innodb;

CREATE TABLE PRODUTOS
(
	CODPROD INT PRIMARY KEY AUTO_INCREMENT,
	NOMEPROD VARCHAR(50) NOT NULL,
	CODTIPOPRODFK INT NOT NULL,
	PRECOPROD DEC(6,2) NOT NULL
)ENGINE = innodb;

CREATE TABLE PEDIDOS
(
	CODPEDIDO INT PRIMARY KEY AUTO_INCREMENT,
	QTDPROD INT NOT NULL,
	DATAPEDIDO DATE NOT NULL,
	CODPRODFK INT NOT NULL,
	CODUSERFK INT NOT NULL,
	ENDPEDIDO VARCHAR(250) NOT NULL,
	STATUSPEDIDO VARCHAR(40) NOT NULL
)ENGINE = innodb;

ALTER TABLE pedidos ADD CONSTRAINT FK_CODPROD FOREIGN KEY (CODPRODFK) REFERENCES PRODUTOS(CODPROD);

ALTER TABLE pedidos ADD CONSTRAINT FK_CODUSER FOREIGN KEY (CODUSERFK) REFERENCES USUARIOS(CODUSER);

ALTER TABLE produtos ADD CONSTRAINT FK_TIPOPROD FOREIGN KEY (CODTIPOPRODFK) REFERENCES tipoprodutos (CODTIPOPROD);










